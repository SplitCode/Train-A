<div class="relative transition-all cursor-pointer flex flex-col lg:flex-row border border-stone-600 border-solid rounded-md hover:bg-stone-900">
  <div (click)="navigate()" class="absolute top-0 left-0 w-full h-full"></div>
  <div class="flex flex-col w-full lg:max-w-96 border border-stone-600 border-solid border-l-0 border-r-0 border-t-0 lg:border-b-0">
    <div class="flex items-center px-4 pt-4 pb-2 w-full">
      <div>
        <div class="text-lg font-bold ">{{segment.time[0] | date:'H:mm'}}</div>
        <div class="text-nowrap text-xs capitalize">{{segment.time[0] | date: 'MMMM d'}}</div>
        <div class="text-xs font-medium leading-7 capitalize">{{ cityFromTo[0].city }}</div>
      </div>
      <div class="relative w-full h-0.5 bg-slate-600 mx-3 px-3">
        <div class="absolute left-0 top-1/2 trans size-3 rounded-full border-2 border-solid border-slate-600 bg-slate-100" style="transform: translateY(-50%);"></div>
        <div class="absolute top-[50%] left-[50%] bg-slate-600 text-[12px] leading-none rounded-lg p-1" style="transform: translate(-50%, -50%);">{{ [segment.time[0], segment.time[1]] | fullTime}}</div>
        <div class="absolute right-0 top-1/2 trans size-3 rounded-full border-2 border-slate-600 bg-slate-600" style="transform: translateY(-50%);"></div>
      </div>
      <div class="">
        <div class="text-lg font-bold ">{{segment.time[0] | date:'H:mm'}}</div>
        <div class="text-nowrap text-xs capitalize">{{ segment.time[1] | date: 'MMMM d' }}</div>
        <div class="text-xs font-medium leading-7 capitalize">{{ cityFromTo[1].city }}</div>
      </div>
    </div>
    <div class="flex items-center px-4 pb-4 pt-2">
      <div class="flex items-center space-x-1 bg-gray-100 rounded-full py-1 px-2 font-semibold mr-3">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14px" height="14px" viewBox="0 0 24 24" version="1.1">
          <title>train_fill</title>
          <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Transport" transform="translate(-432.000000, -48.000000)">
              <g id="train_fill" transform="translate(432.000000, 48.000000)">
                <path d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z" id="MingCute" fill-rule="nonzero"></path>
                <path d="M21,18 C21.5523,18 22,18.4477 22,19 C22,19.5523 21.5523,20 21,20 L2,20 C1.44772,20 1,19.5523 1,19 C1,18.4477 1.44772,18 2,18 L21,18 Z M12,5 C15.2244,5 17.9419,6.07548 19.8678,7.58868 C21.7592,9.07478 23,11.0853 23,13 C23,13.8416 22.7418,14.5605 22.2869,15.1406 C21.8436,15.7058 21.2528,16.0903 20.6508,16.3537 C19.4652,16.8724 18.0539,17 17,17 L2.99376,17 C1.88106,17 1,16.0964 1,15 L1,7 C1,5.89867 1.88971,5 2.99752,5 L12,5 Z M7,7 L3,7 L3,10 L7,10 L7,7 Z M12,7 L9,7 L9,10 L13,10 L13,7.04071 C12.7829333,7.02287 12.5623556,7.01072333 12.3384148,7.00460778 L12,7 Z M15,7.38297 L15,10 L19.5514,10 C19.2835,9.7142 18.9774,9.43256 18.6322,9.16132 C17.6698,8.40519 16.4427,7.76577 15,7.38297 Z" id="形状" fill="#09244B"></path>
              </g>
            </g>
          </g>
        </svg>
        <span class="text-gray-700 text-sm capitalize">{{(path[0] | stationCityById) | async}}</span>
        <span class="text-gray-400 text-sm">→</span>
        <span class="text-gray-700 text-sm capitalize">{{(path[path.length - 1] | stationCityById) | async}}</span>
      </div>
      <app-custom-button (clickEmitter)="isDialog(true)" [config]="{link: true, styleClass: 'transition-all no-underline text-white hover:text-slate-400'}" class="transition-all no-underline text-white hover:text-slate-400" href="#" target="_blank" rel="noopener noreferrer">
        Route
        <svg xmlns="http://www.w3.org/2000/svg" width="12px" height="12px" viewBox="0 0 18 18">
          <path d="M8.791 11.529a.733.733 0 01-.537-.223L4.223 7.283a.745.745 0 010-1.065.751.751 0 011.057 0l3.51 3.511 3.512-3.511a.751.751 0 011.057 0 .748.748 0 010 1.065l-4.023 4.023a.753.753 0 01-.535.223z" fill="currentColor"/>
        </svg>
      </app-custom-button>
    </div>
  </div>
  <div class="flex flex-col w-full ml-auto lg:w-auto sm:flex-row">
    <div *ngFor="let price of segment.price | keyvalue" class="flex flex-col w-full h-full lg:max-w-max border-t border-l-0 sm:border-l sm:border-t-0 border-r-0 border-b-0 border-stone-600 border-solid p-4 text-center">
      <div class="mb-2 mx-auto max-w-[96px] capitalize">{{price.key}}</div>
      <div class="mb-6 text-gray-400">58 seats</div>
      <div class="font-bold text-xl mt-auto">{{+price.value | currency : 'USD' : 'symbol' : '1.0-0'}}</div>
    </div>
  </div>
</div>
<app-route-modal
  [config]="{
    isVisiblePath: isVisiblePath,
    fromStationId: cityFromTo[0].stationId.toString(),
    toStationId: cityFromTo[1].stationId.toString(),
    rideId: routeButtonConfig.rideId.toString()
  }"
/>
